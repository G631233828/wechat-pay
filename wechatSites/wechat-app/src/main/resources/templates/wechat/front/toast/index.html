<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>福山外国语小学（瑞华</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="stylesheet"
	th:href="@{/assets/weChatPage/style/weui.min.css}">
<link rel="stylesheet"
	th:href="@{/assets/weChatPage/style/jquery-weui.css}">
<link rel="stylesheet" th:href="@{/assets/weChatPage/style/demos.css}" />
<link rel="stylesheet" th:href="@{/assets/weChatPage/style/weui.css}" />
<link rel="stylesheet" th:href="@{/assets/weChatPage/style/weui2.css}" />
<link rel="stylesheet" th:href="@{/assets/weChatPage/style/weui3.css}" />
<script th:src="@{/assets/weChatPage/js/jquery-2.1.4.js}"></script>
<script th:src="@{/assets/weChatPage/js/fastclick.js}"></script>
<script th:src="@{/assets/weChatPage/js/jquery-weui.js}"></script>
</head>


<body ontouchstart>


	<header class='demos-header'>
		<h1 class="demos-title">通知发送</h1>

		<div class="weui-cells__title">标题</div>
		<div class="weui-cells">
			<div class="weui-cell">
				<div class="weui-cell__bd">
					<input class="weui-input" type="text" placeholder="请输入标题">
				</div>
			</div>
		</div>

		<div class="weui-cells__title">内容</div>
		<div class="weui-cells weui-cells_form">
			<div class="weui-cell">
				<div class="weui-cell__bd">
					<textarea class="weui-textarea" placeholder="请输入内容" rows="3"></textarea>
					<div class="weui-textarea-counter">
						<span>0</span>/200
					</div>
				</div>
			</div>
		</div>


	</header>

	<div class='demos-content-padded'>
		<a href="javascript:;" class="weui-btn bg-blue open-popup"
			data-target="#full">选择人员</a>
	</div>

	<div id="full" class='weui-popup__container'>
		<div class="weui-popup__overlay"></div>
		<div class="weui-popup__modal">

			<h2 class="demos-second-title">选择通知对象</h2>
			<p class="demos-sub-title">请选择发送的对象</p>


			<div class="button_sp_area">
				<a href="javascript:void(0);"
					class="weui-btn weui-btn_mini weui-btn_primary" onclick="change()">全选</a>
				<a href="javascript:void(0);"
					class="weui-btn weui-btn_mini weui-btn_default" onclick="checkno()">取消</a>
			</div>

			<div class="page-bd">
				<ul>
					<li>
						<div class="weui-flex js-category">
							<div class="weui-flex-item">语文组</div>
							<i class="icon icon-74"></i>
						</div>
						<div class="page-category js-categoryInner">
							<div class="weui_cells weui_cells_access"
								style="margin-top: 0px;">
								<div class="weui-cells weui-cells_checkbox">
									<label class="weui-cell weui-check__label" for="s1">
										<div class="weui-cell__hd">
											<input type="checkbox" class="weui-check" name="checkbox1"
												id="s1"> <i class="weui-icon-checked"></i>
										</div>
										<div class="weui-cell__bd">
											<p>周老师</p>
										</div>
									</label> <label class="weui-cell weui-check__label" for="s2">
										<div class="weui-cell__hd">
											<input type="checkbox" name="checkbox1" class="weui-check"
												id="s2"> <i class="weui-icon-checked"></i>
										</div>
										<div class="weui-cell__bd">
											<p>夏商周</p>
										</div>
									</label>
								</div>
					</li>
				</ul>


			</div>


			<a href="javascript:;" class="weui-btn weui-btn_primary close-popup">选择完毕</a>
		</div>
	</div>





<script>
  
	$(function() {
		FastClick.attach(document.body);
	});
	$(document).on("open", ".weui-popup-modal", function() {
		console.log("open popup");
	}).on("close", ".weui-popup-modal", function() {
		console.log("close popup");
	});
	//全选
	function change() {
		console.log($("input[name='checkbox1']").length)
		$("input[name='checkbox1']").each(function() {
			//将展开的checkbox勾选
			$parent = $(this).parents().filter('li');
			if ($parent.hasClass('js-show')) {
				$(this).prop('checked', true)
			}
		})
	}
	//反选
	function checkno() {
		$("input[name='checkbox1']").each(function() {
			$parent = $(this).parents().filter('li');
			if ($parent.hasClass('js-show')) {
				$(this).prop('checked', false)
			}
		})
	}
	//点击展开
	$('.js-category').click(function() {
		$parent = $(this).parent('li');
		if ($parent.hasClass('js-show')) {
			$parent.removeClass('js-show');
		} else {
			$parent.siblings().removeClass('js-show');
			$parent.addClass('js-show');
		}

	})
</script>


</body>
</html>
